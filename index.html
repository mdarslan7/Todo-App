<!DOCTYPE html>
<html>
<head>
    <title>Todo List</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
</head>

<script>    
    function todosCallback(data) {
        console.log(data);
        let parentElement = document.getElementById("mainArea");
        parentElement.innerHTML = JSON.stringify(data);
    }

    function getCallback(resp) {
        resp.json().then(todosCallback);
    }

    function getData() {
        fetch("http://localhost:3000/todos", {
            method: "GET"
        }).then(getCallback);
    }

    getData();

    function onPress() {
        let title = document.getElementById("title").value;
        let description = document.getElementById("description").value;

        fetch("http://localhost:3000/todos", {
            method: "POST",
            body: JSON.stringify({
                title: title,
                description: description
            }),
            headers: {
                "Content-Type": "application/json"
            }
        });
    }
</script>

<body>
    <div class="container">
        <label for="title">Todo Title:</label>
        <input type="text" id="title">

        <label for="description">Todo Description:</label> 
        <input type="text" id="description">

        <button onclick="onPress()">Send Todo</button>
    </div>

    <div id="mainArea">
        Hello
    </div>
</body>
</html>
